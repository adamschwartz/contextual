/*! textual.js 0.1.0 */
(function(){var a,b,c,d,e,f,g,h,i;f=function(a){return new Array(a.length+1).join("â€¢")},i=function(a){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},a=function(a){var b;return b=a.charCodeAt(0),32===b?"&nbsp;":"&#"+a.charCodeAt(0)+";"},b=function(b){var c,d,e,f,g;for(e="",d=b.split(""),f=0,g=d.length;g>f;f++)c=d[f],e+=a(c);return e},d={name:{validator:function(a){var c,d,e,f,g,h,i,j;for(d="",h=a.value.split(" "),e=i=0,j=h.length;j>i;e=++i){if(g=h[e],0===g.length&&0!==e)return d+=b(g+" ");f="Middle",0===e&&(f="First"),e===h.length-1&&(f="Last"),1===h.length&&(f="Name"),c=g.match(/^[a-zA-Z'-]+$/)?"valid":"invalid",d+='<span class="selection '+c+'" data-validator-label="'+f+'" data-value-length="'+a.value.length+'">'+b(g)+"</span>&nbsp;"}return d}},email:{validator:function(a){var c,d,e,f;return c=i(a.value)?"valid":"invalid",e='<span class="validation '+c+'"></span>',f=a.value,d=f.split("@"),2===d.length?""+e+'<span class="username">'+b(d[0])+'</span><span class="at">@</span><span class="domain">'+b(d[1])+"</span>":""+e+'<span class="username">'+b(a.value)+"</span>"}},url:{validator:function(a){var c,d;return c=a.validity.valid?"valid":"invalid",d="",0===a.value.length&&(d='data-validator-label="URL"'),'<span class="selection '+c+'" data-value-length="0" '+d+">"+b(a.value)+"</span>"}},password:{validator:function(a){var b,c;return b=Math.min(10,a.value.length)/.1,c="ok",b>80&&(c="strong"),50>b&&(c="weak"),'<span class="selection" data-strength="'+c+'">'+f(a.value)+"</span> "}}},g=function(){var a,b,c,d,e;for(b=document.querySelectorAll(".textual .textual-field"),e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(function(a){var b;return(b=a.querySelector("input"))?(b.addEventListener("focus",function(){return a.classList.add("textual-field-focused")}),b.addEventListener("blur",function(){return a.classList.remove("textual-field-focused")})):void 0}(a));return e},h=function(){var b,c,e,g,h;for(c=document.querySelectorAll(".textual .textual-field"),h=[],e=0,g=c.length;g>e;e++)b=c[e],h.push(function(b){var c,e,g,h,i,j,k,l;return c=b.querySelector("input"),g=b.querySelector(".input-validator"),e=b.querySelector(".input-display"),i=h=-1,l=function(){return g.innerHTML=d[b.getAttribute("data-textual-field-type")].validator(c)},k=function(){var a;return a=!1,c.selectionStart!==i||c.selectionEnd!==h?(i=c.selectionStart,h=c.selectionEnd,j()):void 0},j=function(){var b,d,g,j,k,l,m,n,o;for(l=i,b=h,m="password"===c.getAttribute("type")?f(c.value):c.value,""===c.value?(e.classList.add("placeholder"),m=c.getAttribute("placeholder"),l=0,b=0):e.classList.remove("placeholder"),k=m.split(""),g=n=0,o=k.length;o>n;g=++n)j=k[g],k[g]=a(j);return l===b?k.splice(l,0,'<span class="cursor"></span>'):(k.splice(l,0,'<span class="selection">'),k.splice(b+1,0,"</span>")),d=k.join(""),e.innerHTML=d},k(),l(),c.addEventListener("input",function(){return l(),k()}),c.addEventListener("change",k),c.addEventListener("mouseup",k),c.addEventListener("click",k),c.addEventListener("mousedown",k),c.addEventListener("mousemove",k),c.addEventListener("keydown",k),c.addEventListener("keypress",k),c.addEventListener("keyup",k)}(b));return h},c=function(){return document.querySelector(".textual-field:first-child input").focus()},e=function(){return g(),h(),c()},e()}).call(this);